<html>
  <head>
    <title>Test</title>
  </head>

  <body>
    <form id="field-form" method="post">
      <div>
        <label for="field-name">Field Name: </label>
        <input type="text" class="field-name" name="field-name">
      </div>

      <div>
        <label for="field_label">Field Label: </label>
        <input type="text" class="field-label" name="field-label">
      </div>

      <div>
        <label for="field_type">Field Type: </label>
        <input type="text" class="field-type" name="field-type">
      </div>
      <br />
      <div>
        <button type="submit" name="button">Add to config</button>
      </div>
    </form>
    <textarea name="fConfig" class="fConfig" rows="8" cols="80"></textarea>

    <script type="text/javascript">
      var fieldConfig = [];
      const addConfig = (event) => {
        event.preventDefault();
        let fName, fLabel, fType, fConfig;
        fName = document.querySelector(".field-name").value;
        fLabel = document.querySelector(".field-label").value;
        fType = document.querySelector(".field-type").value;
        fieldConfig.push({'field_name' : fName, 'field_label' : fLabel, 'field_type' : fType})
        fConfig = document.querySelector(".fConfig");
        fConfig.value = JSON.stringify(fieldConfig);
      }

      var fieldForm = document.querySelector("#field-form");

      fieldForm.addEventListener("submit", addConfig, true);
    </script>

  </body>
</html>
